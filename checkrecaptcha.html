<html>
  <input type="hidden" id="g-recaptcha-response" name="g-recaptcha-response">
    <input type="hidden" name="action" value="validate_captcha">
  <script src="https://www.google.com/recaptcha/api.js?render=6LdGOdwdAAAAAL1lpfKG1xTWzs7Ho57RYTVHqKdx"></script>
<script>
    grecaptcha.ready(function() {
    // do request for recaptcha token
    // response is promise with passed token
        grecaptcha.execute(6LdGOdwdAAAAAL1lpfKG1xTWzs7Ho57RYTVHqKdx, {action:'validate_captcha'})
                  .then(function(token) {
            // add token value to form
          console.log(token);
            document.getElementById('g-recaptcha-response').value = token;
        });
    });
</script>
</html>
